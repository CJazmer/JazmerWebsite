<!DOCTYPE html>
<html lang="en">
<head>
	<link href="../../css/translatorscss.css" rel="stylesheet">
	<title>TicTacToe</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Conner Jasmer">
	<meta name="description" content="TicTacToe">
	<meta name="keywords" content="tictactoe">
<style>
	.tictactoe{
		width: auto;
		height: auto;
		display: grid;
		grid-template-columns: repeat(3, auto);
	    justify-content: center;
		align-content: center;
	}
    .tictactoe div{
    background-color: goldenrod;
	border: 5px solid #000000;
	width: 80px;
	height: 80px;
	font-size: 35px;
	text-align: center;
	vertical-align: center;
	cursor: pointer;
	}
	.tictactoe div:hover{
    background-color: rgb(213, 168, 56);
	border: 5px solid #fff1b7;
	color: white;
	}
	#currentplayertext{background-color: #000000; color: #ffb300; padding: 10px; width: fit-content;}
</style>
</head>

<body>
		<div class="wrapper" style="background: linear-gradient(to right, #ffb300 0%, #ff3300 100%);">
			<div id="layoutpagenav"></div>

			<div id="navflex">

				<center>
					<h1 id="currentplayertext">Current Player: X</h1>
					<div class="tictactoe">
						<div id="1" class="cell" onclick="clicked(this)"></div>
						<div id="2" class="cell" onclick="clicked(this)"></div>
						<div id="3" class="cell" onclick="clicked(this)"></div>
						<div id="4" class="cell" onclick="clicked(this)"></div>
						<div id="5" class="cell" onclick="clicked(this)"></div>
						<div id="6" class="cell" onclick="clicked(this)"></div>
						<div id="7" class="cell" onclick="clicked(this)"></div>
						<div id="8" class="cell" onclick="clicked(this)"></div>
						<div id="9" class="cell" onclick="clicked(this)"></div>
					</div>
					<button id="resetbutton" onclick="reset()">Reset</button>
				</center>

				<footer></footer>
			</div>
		</div>
</body>
</html>

<!-- -------------------------Javascript------------------------- -->
<script src="../../layout.js"></script>
<script>
	currentplayertext = document.getElementById("currentplayertext");
	var resetbutton = document.getElementById("resetbutton");

	var currentplayer = "X"

    var buttons = document.querySelectorAll(".cell");
    var wins = ["123", "456", "789", "147", "258", "369", "159", "357"]

function clicked(buttonnum){
	if(buttonnum.innerHTML == "" && currentplayertext.innerHTML.includes("Current")) {
if(currentplayer == "X"){
	buttonnum.innerHTML = "X";
	currentplayer = "O";
	currentplayertext.innerHTML = "Current Player: O";
}
else {buttonnum.innerHTML = "O"; currentplayer = "X"; currentplayertext.innerHTML = "Current Player: X";}
checkwin("X");
checkwin("O");
}
}

function checkwin(letter){
wins.forEach(w => {
	if (document.getElementById(w.charAt(0)).innerHTML.toString() == letter &&
	document.getElementById(w.charAt(1)).innerHTML.toString() == letter &&
	document.getElementById(w.charAt(2)).innerHTML.toString() == letter
	) {resetbutton.innerHTML = "Play Again"; currentplayertext.innerHTML = letter + " Wins!!";}
	else{}
	var count = 0;
	buttons.forEach(b => { if(b.innerHTML != "" && currentplayertext.innerHTML.includes("Current")){count++}})
	if (count == 9){resetbutton.innerHTML = "Play Again"; currentplayertext.innerHTML = "Draw";}
})
}

function reset(){
	buttons.forEach(b => {b.innerHTML = "";});
currentplayer = "X"; 
currentplayertext.innerHTML = "Current Player: X";
resetbutton.innerHTML = "Reset";
}
</script> 