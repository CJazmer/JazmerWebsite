<!DOCTYPE html>
<html lang="en">
<head>
	<link href="../../css/translatorscss.css" rel="stylesheet">
	<title>Random Info Generator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Conner Jasmer">
	<meta name="description" content="Generate random info">
	<meta name="keywords" content="random, info, generator">
	<style>
		.clicker {
		 border-radius: 100px;
		 background-color:green;
		 width: 200px;
		 height: 200px;
        }
            .clicker:hover {
                background-color: forestgreen;
				scale: 110%;
            }
			.thebutton {background-color: greenyellow; border: 2px solid black; border-radius: 8px;}
		.upgradescontainer{
			width: 100%;
			background-color: orange;
		}
		.upgradescontainer{
			background-color: goldenrod;
			width: 100%;
			padding-top: .2em;
			display: flex;
			flex-wrap: wrap;
			justify-content: space-evenly;
		}
		.upgradescontainer div button{
			margin: 0px;
			height: fit-content;
			background-color: gold;
			min-width: 10em;
		}
		.upgradeinfocontainer{
			display: flex;
			justify-content: space-between;
			background-color: goldenrod;
		}
		.upgradeinfocontainer p{
			font-size: large;
			margin: 0px;
		}
		h3{
			margin-bottom: 0px;
			padding: .5em;
			background-color: goldenrod;
			border: .2em solid black;
		}
    </style>
</head>

<body style="background-color: rgb(0 0 0)">
	<div style="background-color: rgb(736 225 0)">
		<div class="wrapper" style="background: linear-gradient(to right, tan, rgb(206, 152, 82) 100%);">
			<nav class="topnavbar"><h1 onclick="window.location.href='../../index.html'">Jazmer World Music</h1></nav>
			<div class="topbackbutton" onclick="history.back()">Back</div>

			<div id="navflex">
				<h1>Clicker</h1>
				<center>
				<div>
					<div><h2>$<span id="playermoney">0</span></h2></div>
					<div><h2><span id="autoclicknum">1</span>/cps</h2></div>
					<button onclick="clicked()" class="clicker">Clicking Power $<span id="clickingpower">0</span></button>
				</div>

					<h1>Upgrades</h1>

					<h3>Auto Clickers</h3>
					<div class="upgradescontainer" id="autoclickupgrades"></div>

					<h3>Power Ups</h3>
					<div class="upgradescontainer" id="clickpowercontainer">
						<button onclick="btnclickpower()">Click Power x2</button>
					</div>

				</center>
				<footer>
					<p>Copyright &copy; 2022 - Conner Jasmer</p>
				</footer>
			</div>
		</div>
	</div>
</body>
</html>
<script>
	var clickpowercontainer = document.getElementById("clickpowercontainer");
	var autoclickupgrades = document.getElementById("autoclickupgrades");
	var autoclicknum = document.getElementById("autoclicknum");
	var clickingpowerscreen = document.getElementById("clickingpower")

	// need to be named different
	let autoclicks = [
		{name: "Lemonaid Stand", cps: 1, cost: 10, level: 0},
		{name: "Num2", cps: 2, cost: 10, level: 0},
		{name: "Num4", cps: 4, cost: 20, level: 0},
		{name: "Num25", cps: 8, cost: 20, level: 0},
		{name: "Num3", cps: 16, cost: 40, level: 0}
	]
	let upgpowerclick = {name: "Click Power", cost: 200, level: 0};
	
	var playermoneyscreen = document.getElementById("playermoney");
	let playermoney = 0;
	let playerclickpower = 1;
	let playercps = 0;
	var ee = document.createElement("div");
	var eee = document.createElement("div");
	autoclickupgrades.appendChild(ee);
	clickpowercontainer.appendChild(eee);
		
	

	function clicked(){
		playermoney += playerclickpower;
		updatescreen();
	}
	function updatescreen(){
		playermoneyscreen.textContent = playermoney;
		autoclicknum.innerHTML = playercps;
		clickingpowerscreen.innerHTML = playerclickpower;
		
		ee.innerHTML = "";
		eee.innerHTML = "";
		ee.className = "upgradescontainer"
		eee.className = "upgradescontainer"
		


		autoclicks.forEach(a => {
		ee.innerHTML += "<div>" +
		'<button ' + 'onclick="upgrade(' + "'" + a.name + "'" + ')">' + a.name + "</button>" +
		'<div class="upgradeinfocontainer"><p>buy: $' + a.cost + '</p><p>clicks: ' + a.cps + '</p><p>Level: ' + a.level + '</p></div>' +
		'</div>'
	   //<button class="btnupgrade"      onclick="upgrade('Lemonaid Stand')">Lemonaid Stand</button>
	})
	powerclicks.forEach(a => {
		eee.innerHTML += "<div>" +
		'<button ' + 'onclick="upgrade(' + "'" + a.name + "'" + ')">' + a.name + "</button>" +
		'<div class="upgradeinfocontainer"><p>buy: $' + a.cost + '</p><p>clicks: +' + a.click + '</p><p>Level: ' + a.level + '</p></div>' +
		'</div>'
	})
	}
	updatescreen()

	function upgrade(upgragename){
		autoclicks.forEach(a => {
			if(upgragename == a.name){

				if(playermoney >= a.cost){
					a.level++;
					playermoney -= a.cost;
					a.cost = Math.ceil(a.cost * 1.3)
				}
			}
		});
		powerclicks.forEach(a => {
			if(upgragename == a.name){

				if(playermoney >= a.cost){
					a.level++;
					playerclickpower += a.click;
					playermoney -= a.cost;
					a.cost = Math.ceil(a.cost * 1.3)
				}
			}
		});
		updatescreen();
	}
	function btnclickpower(){
		if(playermoney >= upgpowerclick.cost) {
			playermoney -= upgpowerclick.cost;
			upgpowerclick.cost *= 2.1;
			playerclickpower *= 2;
			upgpowerclick.level++;
		}
	}

	setInterval(autoclick, 1000);
	function autoclick(){

		playercps = 0;
		autoclicks.forEach(a => {
		playercps += a.cps * a.level;
		});
		playermoney += playercps

		updatescreen();
	}
	

</script>