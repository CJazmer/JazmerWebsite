<!DOCTYPE html>
<html lang="en">
<head>
	<link href="langlerncss.css" rel="stylesheet">
	<title>LangLern</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Conner Jasmer">
	<meta name="description" content="Learn Languages">
	<meta name="keywords" content="Lang, Lern">
	<style>
        button{
            width: 100%;
            height: 3em;
        }
        #vocabwords{
            display: flex;
            flex-wrap: wrap;
            justify-content: space-evenly;
            background-color: goldenrod;
            padding: .5em 0em .5em 0em;
        }
        #vocabtitle{
            width: 100%;
            background-color: gold;
            text-align: center;
            font-weight: bolder;
            padding: 1em 0em 1em 0em;
        }
        .vocabword{
            width: fit-content;
            height: 2em;
            padding: .5em .5em 1em .5em;
            margin: .1em;
            text-align: center;
            background-color: gold;
            border: .2em solid rgb(255, 231, 96);
            border-radius: 10%;
            cursor: pointer;
            transition: .2s;
        }
        .vocabword:hover{
            transform: scale(1.1);
            filter:brightness(1.1)
        }
        .eng{
            text-align: center;
            font-weight: 900;
        }
        .lang{
            text-align: center;
            min-width: fit-content;
        }
	</style>
</head>

<body>
    <div id="langlernnavbar"></div>
	<div id="main">
		<div id="underbanner">
            <p id="vocabtitle">...</p>
			<div id="vocabwords">

            </div>
            <button class="thebutton" onclick="Clicked()">Continue</button>
            <button class="thebutton" onclick="window.location.href='./vocab.html'">Back</button>
		</div>
		<div id="languagesdiv"></div>

	</div>
</body>
<footer></footer>
</html>

<!-- -------------------------Javascript------------------------- -->
<script src="./languagedatabase.js"></script>
<script src="/layout.js"></script>
<script src="./langlernlayout.js"></script>
<script src="https://code.responsivevoice.org/responsivevoice.js?key=j1WhBeQz"></script>

<script>
const vocabwords = document.getElementById("vocabwords");
const vocabtitle = document.getElementById("vocabtitle");
let currentlang = localStorage.getItem("currentlang");
let currentvocablesson = getcurrentvocablesson();
console.log(currentvocablesson.arr);
console.log(responsiveVoice.getVoices())
// Gets appriate voice for the language choosen
let apiVoiceName = getapivoice();
let theHTML = ``;
vocabtitle.innerHTML = currentvocablesson.name

currentvocablesson.arr.forEach(w => {
    if(w[currentlang] != "..."){
theHTML += `
<div class='vocabword' onclick="WordClicked('${w[currentlang]}')"><span class="eng">${w.english}</span><br><span class="lang">${w[currentlang]}</span></div>
`;
}
});
vocabwords.innerHTML = theHTML;

function WordClicked(thetext){
    /* 
    the old way, now i use an API
    let msg = new SpeechSynthesisUtterance(thetext);
    msg.voice = window.speechSynthesis.getVoices()[getcurrentlangobj().audioindex];
    window.speechSynthesis.speak(msg);
    */
    responsiveVoice.setDefaultVoice(apiVoiceName);
    responsiveVoice.speak(thetext); 
}
function Clicked(){
    window.location.href="./vocabquiz.html";
}
</script>